{
  "label": "Calculate Contrast",
  "description": "Measures foreground/background contrast for inline HTML extracted from Markdown and records the lowest ratio per line. Flags insufficient contrast to support WCAG compliance.",
  "rationale": "Improves visual clarity and accessibility by highlighting text that fails contrast guidelines.",
  "improves": [
    "accessibility",
    "visual-clarity",
    "wcag-compliance"
  ],
  "version": "1.0.0",
  "requiresPrevious": {
    "operator": "extract",
    "target": "html",
    "scopes": [
      "document"
    ],
    "message": "The previous step must be `extract` with `target: html` and scope `document`."
  },
  "usedByRules": [
    "textContrastCompliance"
  ],
  "fields": {},
  "additionalProperties": false,
  "produces": {
    "target": "contrast",
    "scopes": [
      "line"
    ],
    "contextWrites": [
      "ctx.contrast",
      "ctx.count.contrast"
    ]
  },
  "example": {
    "operator": "calculateContrast"
  }
}